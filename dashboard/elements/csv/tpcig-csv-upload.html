<link rel="import" href="../../../bower_components/iron-autogrow-textarea/iron-autogrow-textarea.html">


<dom-module id="tpcig-csv-upload">
  <template>
    <style>
    #label {
      font-size: 20px;
      font-weight: bold;
      text-transform: uppercase;
      background-color: #C4C4C4;
      height: 29px;
      @apply --layout-horizontal;
      @apply --layout-center-center;
    }

    #wrapper {
      margin: 10px;
      padding-right: 12px;
      @apply --layout-flex;
    }
    </style>
    <div id="label">CSV Upload</div>
    <div id="wrapper">
      <iron-autogrow-textarea value="{{csv}}" maxrows="20"></iron-autogrow-textarea>
      <paper-button id="save" on-tap="saveCsv" raised>Upload</paper-button>
    </div>
  </template>
  <script>
  class TpcigCsvUpload extends Polymer.Element {
    static get is() { return 'tpcig-csv-upload' }

    static get properties() {
      return {
        csv: String
      };
    }

    saveCsv() {
      nodecg.sendMessage('csvImport', this.csv, (err, msg) => {
        //console.log('csv done?', err, msg);
      });
    }
  }

  customElements.define(TpcigCsvUpload.is, TpcigCsvUpload);
  </script>
</dom-module>
