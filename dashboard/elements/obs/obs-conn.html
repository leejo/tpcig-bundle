<link rel="import" href="../../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">

<dom-module id="obs-conn">
  <template>
    <style>
    :host {
      @apply --layout-vertical;
      @apply --layout-center;
    }

    #title {
      font-size: 24px;
      font-weight: 500;
      margin-bottom: 16px;
    }

    .row {
      @apply --layout-horizontal;
      @apply --layout-center;
    }

    .row > :not(:last-child) {
      margin-right: 12px;
    }

    .row > :not(:first-child) {
      margin-left: 12px;
    }

    #buttons {
      margin-top: 16px;
    }

    #delete {
      background-color: var(--paper-red-500);
    }
    </style>
    <div id="title">[[title]]</div>
    <div class="row">
      <paper-input
        label="Stream"
        value="[[conn_data.stream]]"
        always-float-label disabled>
      </paper-input>
      <paper-dropdown-menu label="Instance">
        <paper-listbox slot="dropdown-content"
                       attr-for-selected="option"
                       selected="{{conn_data.ip}}">
        <template is ="dom-repeat" items="[[obss]]" filter="_isObs">
          <paper-item option="[[item]]">[[item]]</paper-item>
        </template>
      </paper-dropdown-menu>
      <paper-dropdown-menu label="Room">
        <paper-listbox slot="dropdown-content"
                       attr-for-selected="option"
                       selected="{{conn_data.room_id}}">
        <template is ="dom-repeat" items="[[rooms]]">
          <paper-item option="[[item.id]]">[[item.name]]</paper-item>
        </template>
      </paper-dropdown-menu>
    </div>
    <div id="buttons" class="row">
      <paper-button id="save" on-tap="saveConn" raised>Save</paper-button>
      <paper-button dialog-dismiss raised autofocus>Cancel</paper-button>
    </div>
  </template>
  <script src="obs-conn.js"></script>
</dom-module>
